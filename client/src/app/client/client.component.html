<app-nav-bar></app-nav-bar>

<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div>
        <h1 class="page-header"><span style="margin-right: 10px;" class="glyphicon glyphicon-user"></span>{{ client.clientFirstName }} {{ client.clientLastName }}
          <small style="display: inline-block; float: right;" class="text-right"><a target="_blank" href="https://www.google.com/maps/search/?api=1&query={{ client.clientStreet1 }} {{ client.clientCity }} {{ client.clientProvice }}">{{ client.clientStreet1 }}<span *ngIf="client.clientStreet2"> </span>{{ client.clientStreet2 }}<br>{{ client.clientCity }}<span *ngIf="client.clientProvince">, </span>{{ client.clientProvince }} {{ client.clientZip }}</a></small><span class="glyphicon glyphicon-map-marker" style="float: right; margin-right: 10px;"></span></h1>
        </div>
        <div>
          <div class="dropdown" style="float: right;">
            <button class="btn btn-success dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
              More
              <span class="caret"></span>
            </button>
            <ul style="position: absolute; left: -90px;"class="dropdown-menu" aria-labelledby="dropdownMenu1">
              <li><a href="app/client/details/{{client._id}}#">New Pool Service</a></li>
              <li><a href="app/client/details/{{client._id}}#">New Product</a></li>
              <li><a href="app/client/details/{{client._id}}#">Log Pool Vital</a></li>
              <li><a href="app/client/details/{{client._id}}#">Log Note</a></li>
              <li role="separator" class="divider"></li>
              <li><a href="app/client/details/{{client._id}}#">New Invoice</a></li>
              <li><a href="app/client/details/{{client._id}}#">New Payment</a></li>
            </ul>
          </div>
          <div>
            <ul class="nav nav-tabs">
              <li role="presentation" class="active"><a href="app/client/details/{{client._id}}#">About</a></li>
              <li role="presentation"><a href="app/client/details/{{client._id}}#">Activities</a></li>
              <li role="presentation"><a href="app/client/details/{{client._id}}#">Pool Vitals</a></li>
              <li role="presentation"><a href="app/client/details/{{client._id}}#">Products</a></li>
              <li role="presentation"><a href="app/client/details/{{client._id}}#">Invoices</a></li>
              <li role="presentation"><a href="app/client/details/{{client._id}}#">Payments</a></li>
            </ul>
          </div>
        </div>

        <div class="tab-info-div">
          <div style="padding-bottom: 15px;">
            <h1 style="display: inline;">About</h1>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-default" style="float: right;" data-toggle="modal" data-target="#myModal">
              Edit
            </button>
            <div>
              <table class="table">
                <thead>
                  <tr>User info</tr>
                </thead>
                <tbody>
                  <tr>
                    <th class="text-muted">First Name:</th>
                    <th>{{ client.clientFirstName }}</th>
                    <th class="text-muted">Last Name:</th>
                    <th>{{ client.clientLastName }}</th>
                  </tr>
                  <tr>
                    <th class="text-muted">Phone:</th>
                    <th>{{ client.primaryPhone }}</th>
                    <th class="text-muted">Email:</th>
                    <th>{{ client.clientUsername }}</th>
                  </tr>

                  <thead>
                    <tr>Client's Pool Address</tr>
                  </thead>
                  <tr>
                    <th class="text-muted">Street:</th>
                    <th>{{ client.clientStreet1 }}
                      {{ client.clientStreet2 }}</th>
                      <th class="text-muted">City:</th>
                      <th>{{ client.clientCity }}</th>
                    </tr>

                    <tr>
                      <th class="text-muted">Provice:</th>
                      <th>{{ client.clientProvince }}</th>
                      <th class="text-muted">Zip:</th>
                      <th>{{ client.clientZip }}</th>
                    </tr>
                  </tbody>
                </table>
              </div>

              <!-- Modal -->
              <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                      <h4 class="modal-title" id="myModalLabel">Edit Client Details</h4>
                    </div>
                    <div class="modal-body">

                      <form (ngSubmit)="doEditClient()">
                        <div class="row">
                          <div class="col-sm-6">
                            <label for="clientFirstName">First name</label><br>
                            <input class="form-control" type="text" placeholder="John" [(ngModel)]="newData.clientFirstName" name="clientFirstName"/><br>
                          </div>
                          <div class="col-sm-6">
                            <label for="clientLastName">Last name</label><br>
                            <input class="form-control" type="text" placeholder="Doe" [(ngModel)]="newData.clientLastName" name="clientLastName"/><br>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-sm-6">
                            <label for="clientPrimaryPhone">Phone</label><br>
                            <input class="form-control" type="tel" placeholder="555-555-5555" [(ngModel)]="newData.clientPrimaryPhone" name="clientPrimaryPhone"/><br>
                          </div>
                          <div class="col-sm-6">
                            <label for="clientUsername">Email</label><br>
                            <input class="form-control" type="email" placeholder="john_doe@gmail.com" [(ngModel)]="newData.clientUsername" name="clientUsername"/><br>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-sm-6">
                            <label for="clientStreet1">Street</label><br>
                            <input class="form-control" type="text" placeholder="123 SW 132ND ave" [(ngModel)]="newData.clientStreet1" name="clientStreet1"/><br>
                          </div>
                          <div class="col-sm-6">
                            <label for="clientStreet2">Street 2</label><br>
                            <input class="form-control" type="text" placeholder="UNIT 118" [(ngModel)]="newData.clientStreet2" name="clientStreet2"/><br>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-sm-6">
                            <label for="clientCity">City</label><br>
                            <input class="form-control" type="text" placeholder="City" [(ngModel)]="newData.clientCity" name="clientCity"/><br>
                            <!-- <label for="companyName">Company name</label><br>
                            <input class="form-control" type="text" placeholder="Company Name" [(ngModel)]="client.clientCompanyName" name="companyName"/><br> -->
                          </div>
                          <div class="col-sm-6">
                            <label for="clientProvince">State</label><br>
                            <input class="form-control" type="text" placeholder="Province/State" [(ngModel)]="newData.clientProvince" name="province"/><br>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-sm-6">
                            <label for="clientZip">Postal/Zip code</label><br>
                            <input class="form-control" type="text" placeholder="33186" [(ngModel)]="newData.clientZip" name="clientZip"/><br>
                          </div>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                          <button type="submit" class="btn btn-primary">Save changes</button>

                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div>


            </div>
          </div>
        </div>
